apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'maven-publish'

sourceCompatibility = '1.8'

group = 'org.models'
version = '7.0.0'

repositories {
	mavenCentral()
}

sourceSets {
	main {
		java {
			srcDir 'src/api/java'
		}
	}
	api {
		java {
			srcDir 'src/api/java'
		}
	}
}

dependencies {
	compile fileTree(dir: 'src/main/resources', include: '*.jar')
	compile 'org.slf4j:slf4j-api:1.7.10'
	compile 'javax:javaee-api:7.0'
	testCompile 'junit:junit:4.12'
	testCompile 'org.mockito:mockito-core:2.0.5-beta'
}


task apiJar(type: Jar) {
	baseName = baseName + "-$sourceSets.api.name"
	from sourceSets.api.output
}

task wrapper(type: Wrapper) {
	gradleVersion = '2.3'
}

artifacts {
	archives apiJar
}

jar {
	from sourceSets.api.output
}

publishing {
	publications {
		main(MavenPublication) {
			from components.java
		}
		api(MavenPublication) {
			artifactId = artifactId + "-$sourceSets.api.name"
			artifact apiJar
		}
	}
}
